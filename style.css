:root{--panel:rgba(255,255,255,.06);--surface:rgba(255,255,255,.04);--surface-2:rgba(255,255,255,.02);--border:rgba(255,255,255,.08);--border-strong:rgba(255,255,255,.12);--screen-bg:#0b0b10;--screen-bg-soft:#121218;--bg:#0b0b10;--bg-soft:#121218;--fg:#eaeaf2;--muted:#9aa0a6;--accent:#57b2ff;--accent-2:#8e8eff;--subject:#e25555;--subject-ink:#ffd9d9;--card:#161621;--card-2:#1c1c2b;--shadow:0 10px 25px rgba(0,0,0,.35);--radius-xl:24px;--radius-lg:18px;--radius:12px;--transition:220ms cubic-bezier(.2,.8,.2,1);--ring:0 0 0 3px rgba(87,178,255,.25);--shell-fg:#eaeaf2;--shell-muted:#c9cbd6}
:root.light{--panel:#f1f3f7;--surface:#ffffff;--surface-2:#f6f7fb;--border:rgba(0,0,0,.10);--border-strong:rgba(0,0,0,.14);--screen-bg:#ffffff;--screen-bg-soft:#f7f8fb;--bg:#0b0b10;--bg-soft:#121218;--fg:#0e1020;--muted:#51576d;--accent:#0b6bff;--accent-2:#5f4dff;--subject:#0a8f3f;--subject-ink:#ddffe9;--card:#ffffff;--card-2:#f6f7fb;--shadow:0 10px 25px rgba(0,0,0,.08);--ring:0 0 0 3px rgba(11,107,255,.18);--shell-fg:#eaeaf2;--shell-muted:#c9cbd6}
*{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,Apple Color Emoji,Segoe UI Emoji;color:var(--fg);background:#0b0b10;background-image:radial-gradient(900px 600px at 20% -10%,#121218 0%,#0b0b10 60%);background-attachment:fixed;letter-spacing:.1px}
.site-header{padding:12px 20px;display:flex;align-items:center;justify-content:space-between;z-index:10;position:relative;color:var(--shell-fg)}.brand{display:flex;align-items:center;gap:12px}.brand .dot{width:12px;height:12px;border-radius:50%;background:linear-gradient(45deg,var(--accent),var(--accent-2));box-shadow:0 0 18px var(--accent)}.brand h1{font-size:18px;margin:0;letter-spacing:.4px;color:var(--shell-fg)}.site-actions{display:flex;gap:10px}.site-actions button{color:var(--shell-fg)}
button,.nav-btn,a.ghost{border:none;outline:none;padding:10px 14px;border-radius:999px;background:rgba(125,125,125,.08);color:var(--fg);cursor:pointer;transition:transform var(--transition),background var(--transition),box-shadow var(--transition)}button.ghost:hover,a.ghost:hover{background:rgba(125,125,125,.14);transform:translateY(-1px)}button.primary{background:linear-gradient(45deg,var(--accent),var(--accent-2));color:#fff;box-shadow:var(--shadow)}button.primary:hover{filter:brightness(1.05);transform:translateY(-1px)}button:focus-visible{box-shadow:var(--ring)}
.stage{display:grid;place-items:center;padding:12px 24px 48px;min-height:calc(100vh - 54px)}.iphone-wrap{width:min(440px,92vw);aspect-ratio:9/19.5;display:grid;place-items:center}.iphone-14{width:100%;height:100%;position:relative;filter:drop-shadow(0 30px 60px rgba(0,0,0,.5))}.bezel{position:absolute;inset:0;border-radius:42px;padding:14px;background:linear-gradient(120deg,#1e1f2a,#0a0a0f);border:1px solid #2a2a38}.dynamic-island{position:absolute;left:50%;transform:translateX(-50%);top:12px;width:168px;height:36px;border-radius:20px;background:#000;box-shadow:inset 0 0 0 1px rgba(255,255,255,.04);z-index:3}.screen{position:absolute;inset:8px;border-radius:34px;overflow:hidden;background:linear-gradient(180deg,var(--screen-bg-soft),var(--screen-bg))}
.statusbar{position:absolute;inset-inline:14px;top:8px;height:26px;display:flex;align-items:center;justify-content:space-between;color:var(--muted);font-size:13px;z-index:4}.status-pill{font-weight:700;font-size:11px;letter-spacing:.3px;color:var(--subject);background:var(--subject-ink);border:1px solid color-mix(in srgb,var(--subject) 25%, transparent);padding:4px 8px;border-radius:999px}
.home-grid{position:absolute;inset:44px 12px 28px;padding:18px 10px 30px;display:grid;grid-template-columns:repeat(4,1fr);gap:12px 10px;align-content:start;justify-items:center;overflow:auto;z-index:1;-webkit-overflow-scrolling:touch}
.app-icon{width:68px;height:86px;display:grid;grid-template-rows:1fr auto;place-items:center;gap:6px;background:transparent}.app-icon img{width:64px;height:64px;border-radius:16px;background:linear-gradient(45deg,var(--subject),color-mix(in srgb,var(--subject) 65%, black));box-shadow:0 8px 16px rgba(0,0,0,.3);transition:transform var(--transition),filter var(--transition),background var(--transition)}.app-icon span{font-size:11px;color:var(--subject);text-shadow:0 1px 0 rgba(0,0,0,.25);transition:color var(--transition)}.app-icon:focus-visible img,.app-icon:hover img{transform:translateY(-2px) scale(1.03);filter:brightness(1.05)}
.app-view{position:absolute;inset:0;display:grid;grid-template-rows:auto 1fr auto;background:linear-gradient(180deg,var(--card),var(--card-2));border-radius:34px;z-index:2}[hidden].app-view{display:none !important}
.app-nav{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;padding:36px 12px 0;gap:10px}.app-nav h2{margin:0;text-align:center;font-size:15px;color:var(--muted);font-weight:600}.nav-btn{justify-self:start;background:rgba(125,125,125,.08);padding:8px 12px}.nav-btn#btn-back{justify-self:end}
.app-content{min-height:0;overflow:auto;max-height:calc(100% - 56px);padding:14px 14px 30px;display:grid;gap:14px;-webkit-overflow-scrolling:touch}
.card{background:linear-gradient(180deg,var(--surface),var(--surface-2));border:1px solid var(--border);border-radius:18px;box-shadow:var(--shadow);padding:16px}
.card h3{margin:0 0 8px;font-size:16px}.card p{margin:0;color:var(--muted);font-size:14px;line-height:1.45}
.kpis{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}.kpi{background:var(--surface-2);border:1px solid var(--border);border-radius:12px;padding:12px}.kpi .label{font-size:12px;color:var(--muted)}.kpi .value{font-size:18px;font-weight:700;letter-spacing:.3px}
.figure{background:rgba(0,0,0,.08);border:1px dashed var(--border-strong);border-radius:12px;padding:12px;color:var(--muted);font-size:13px}
.home-indicator{height:5px;width:120px;border-radius:10px;margin:8px auto 10px;background:rgba(255,255,255,.2)}
.modal{max-width:560px;width:calc(100% - 32px);background:var(--card);color:var(--shell-fg);border:1px solid var(--border);border-radius:18px;padding:16px}.modal::backdrop{background:rgba(0,0,0,.6)}
.app-icon:focus-visible{outline:none;box-shadow:0 0 0 3px color-mix(in srgb,var(--subject) 35%, transparent);border-radius:18px}

/* ===== Thematic skins ===== */
/* Culture (Instagram-like feed) */
.app-view[data-app="culture"] .feed{display:grid;gap:12px}
.app-view[data-app="culture"] .post{background:var(--card);border:1px solid var(--border);border-radius:16px;overflow:hidden}
.post .post-head{display:flex;align-items:center;gap:8px;padding:10px 12px;font-size:12px;color:var(--muted)}
.post .avatar{width:24px;height:24px;border-radius:999px;background:var(--subject)}
.post .img{aspect-ratio:1/1;background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02))}
.post .post-actions{display:flex;gap:12px;padding:8px 12px;color:var(--muted);font-size:12px}

/* Economy (Stocks-like) */
.app-view[data-app="economy"] .stocks{display:grid;gap:12px}
.ticker{display:grid;grid-template-columns:auto 1fr auto;gap:10px;align-items:center;padding:12px;border:1px solid var(--border);border-radius:12px;background:linear-gradient(180deg,var(--surface),color-mix(in srgb, var(--surface-2) 70%, transparent))}
.ticker .symbol{font-weight:700}
.spark{height:40px}
.price{font-variant-numeric:tabular-nums}

/* Health (Health-like cards but with your pros/cons facts) */
.app-view[data-app="health"] .health-cards{display:grid;grid-template-columns:1fr;gap:12px}
.metric{border-radius:16px;padding:12px;background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));border:1px solid var(--border)}
.metric .name{font-size:13px;color:var(--muted);font-weight:600}
.metric .value{font-size:14px}

/* Comms (Messages-like bubbles) */
.app-view[data-app="comms"] .chat{display:grid;gap:10px}
.bubble{max-width:78%;padding:10px 12px;border-radius:16px;line-height:1.3}
.bubble.me{justify-self:end;background:var(--subject-ink);border:1px solid color-mix(in srgb,var(--subject) 40%, transparent)}
.bubble.them{justify-self:start;background:var(--panel);border:1px solid var(--border)}

/* Work (Notes/Tasks hybrid) */
.app-view[data-app="work"] .tasks{display:grid;gap:10px}
.task{display:grid;grid-template-columns:auto 1fr auto;gap:10px;align-items:center;padding:10px;border-radius:12px;border:1px solid var(--border);background:linear-gradient(180deg,var(--surface),color-mix(in srgb, var(--surface-2) 70%, transparent))}
.task .dot{width:10px;height:10px;border-radius:50%;background:var(--subject)}

/* Design (Settings-like list) */
.app-view[data-app="design"] .settings{display:grid;gap:10px}
.setting{display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:12px;border:1px solid var(--border);background:linear-gradient(180deg,var(--surface),color-mix(in srgb, var(--surface-2) 70%, transparent))}
.setting .label{font-size:14px}
.setting .value{font-size:13px;color:var(--muted)}

/* Timeline (vertical milestones) */
.app-view[data-app="timeline"] .timeline{display:grid;gap:16px;padding:8px 6px 48px}
.milestone{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:start;background:linear-gradient(180deg,var(--surface),var(--surface-2));border:1px solid var(--border);border-radius:12px;padding:10px}
.milestone .dot{width:10px;height:10px;border-radius:50%;background:var(--subject);margin-top:6px}
.milestone .muted{color:var(--muted);font-size:13px}

/* Sources (list) */
.app-view[data-app="sources"] .sources{display:grid;gap:12px}
.source{padding:12px;border:1px solid var(--border);border-radius:12px;background:linear-gradient(180deg,var(--surface),color-mix(in srgb, var(--surface-2) 70%, transparent))}
.source .muted{color:var(--muted);font-size:13px}
